"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[945],{8869:(T,C,r)=>{r.r(C),r.d(C,{CustomProductModule:()=>K});var n=r(6814),g=r(2129),v=r(5861),l=r(95),t=r(9467),f=r(2434),a=r(4532),s=r(5219),i=r(4055),c=r(3714),p=r(707),u=r(3530),x=r(3965);const h=()=>({width:"50%"});function y(o,m){if(1&o&&t._UZ(0,"img",7),2&o){const e=t.oxw();t.Akn(t.DdM(3,h)),t.s9C("src",e.product.image,t.LSH)}}function A(o,m){if(1&o){const e=t.EpF();t.TgZ(0,"div",8)(1,"p-button",9),t.NdJ("click",function(){t.CHM(e);const d=t.oxw();return t.KtG(d.onSetCustomPrice())}),t.qZA()()}}function P(o,m){1&o&&(t.TgZ(0,"div"),t._uU(1,"Price is required. "),t.qZA())}function D(o,m){1&o&&(t.TgZ(0,"div"),t._uU(1,"Minimum price is 1. "),t.qZA())}function I(o,m){if(1&o&&(t.TgZ(0,"small",24),t.YNc(1,P,2,0,"div",25)(2,D,2,0,"div",25),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.productForm.controls.price.errors?null:e.productForm.controls.price.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.productForm.controls.price.errors?null:e.productForm.controls.price.errors.min)}}function E(o,m){1&o&&(t.TgZ(0,"div"),t._uU(1," effectiveType is required. "),t.qZA())}function F(o,m){if(1&o&&(t.TgZ(0,"small",24),t.YNc(1,E,2,0,"div",25),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.productForm.econtrols.effectiveType.errors?null:e.productForm.econtrols.effectiveType.errors.required)}}function k(o,m){1&o&&(t.TgZ(0,"div"),t._uU(1,"Start Date is required. "),t.qZA())}function b(o,m){if(1&o&&(t.TgZ(0,"small",24),t.YNc(1,k,2,0,"div",25),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.productForm.controls.startDate.errors?null:e.productForm.controls.startDate.errors.required)}}function S(o,m){if(1&o&&(t.TgZ(0,"div",11)(1,"label",26),t._uU(2,"Start Date"),t.qZA(),t.TgZ(3,"span",13),t._UZ(4,"i",27)(5,"input",28),t.qZA(),t.YNc(6,b,2,1,"small",16),t.qZA()),2&o){const e=t.oxw(2);t.xp6(6),t.Q6J("ngIf",e.productForm.controls.startDate.invalid&&(e.productForm.controls.startDate.dirty||e.productForm.controls.startDate.touched)&&e.isDynamicStock)}}function w(o,m){1&o&&(t.TgZ(0,"div"),t._uU(1,"End Date is required. "),t.qZA())}function M(o,m){if(1&o&&(t.TgZ(0,"small",24),t.YNc(1,w,2,0,"div",25),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.productForm.controls.endDate.errors?null:e.productForm.controls.endDate.errors.required)}}function U(o,m){if(1&o&&(t.TgZ(0,"div",11)(1,"label",29),t._uU(2,"End Date"),t.qZA(),t.TgZ(3,"span",13),t._UZ(4,"i",27)(5,"input",30),t.qZA(),t.YNc(6,M,2,1,"small",16),t.qZA()),2&o){const e=t.oxw(2);t.xp6(6),t.Q6J("ngIf",e.productForm.controls.endDate.invalid&&(e.productForm.controls.endDate.dirty||e.productForm.controls.endDate.touched)&&e.isDynamicStock)}}function R(o,m){1&o&&(t.TgZ(0,"div"),t._uU(1,"Customer is required. "),t.qZA())}function N(o,m){if(1&o&&(t.TgZ(0,"small",24),t.YNc(1,R,2,0,"div",25),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.productForm.controls.appliesTo.errors?null:e.productForm.controls.appliesTo.errors.required)}}function L(o,m){if(1&o){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"label",12),t._uU(3,"Price"),t.qZA(),t.TgZ(4,"span",13),t._UZ(5,"i",14)(6,"input",15),t.qZA(),t.YNc(7,I,3,2,"small",16),t.qZA(),t.TgZ(8,"div",11)(9,"label",17),t._uU(10,"Effective Type"),t.qZA(),t.TgZ(11,"span",13),t._UZ(12,"i",18),t.TgZ(13,"p-dropdown",19),t.NdJ("onChange",function(){t.CHM(e);const d=t.oxw();return t.KtG(d.onEffectiveTypeChange())}),t.qZA()(),t.YNc(14,F,2,1,"small",16),t.qZA(),t.YNc(15,S,7,1,"div",20)(16,U,7,1,"div",20),t.TgZ(17,"div",11)(18,"label",21),t._uU(19,"Applies To"),t.qZA(),t.TgZ(20,"span",13),t._UZ(21,"i",22)(22,"p-multiSelect",23),t.qZA(),t.YNc(23,N,2,1,"small",16),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(7),t.Q6J("ngIf",e.productForm.controls.price.invalid&&(e.productForm.controls.price.dirty||e.productForm.controls.price.touched)),t.xp6(6),t.Q6J("options",e.effectiveTypes),t.xp6(1),t.Q6J("ngIf",e.productForm.controls.effectiveType.invalid&&(e.productForm.controls.effectiveType.dirty||e.productForm.controls.effectiveType.touched)),t.xp6(1),t.Q6J("ngIf",e.isEffTypeLimited),t.xp6(1),t.Q6J("ngIf",e.isEffTypeLimited),t.xp6(6),t.Q6J("options",e.customers),t.xp6(1),t.Q6J("ngIf",e.productForm.controls.appliesTo.invalid&&(e.productForm.controls.appliesTo.dirty||e.productForm.controls.appliesTo.touched)&&e.isDynamicStock)}}function O(o,m){if(1&o){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const d=t.oxw();return t.KtG(d.hideDialog())}),t.qZA(),t.TgZ(1,"button",32),t.NdJ("click",function(){t.CHM(e);const d=t.oxw();return t.KtG(d.saveProduct())}),t.qZA()}}const q=()=>({width:"600px",height:"800px"});let Z=(()=>{class o{constructor(e,_,d){this.dbservice=e,this.route=_,this.activeRoute=d,this.customers=[],this.productDialog=!1,this.isEffTypeLimited=!1,this.effectiveTypes=[{id:1,name:"No Limit"},{id:2,name:"Limited"}],this.productForm=new l.cw({price:new l.NI("",l.kI.min(1)),effectiveType:new l.NI(1,l.kI.required),startDate:new l.NI("",l.kI.required),endDate:new l.NI("",l.kI.required),appliesTo:new l.NI([],l.kI.required)})}ngOnInit(){this.activeRoute.params.subscribe(e=>{void 0!==e.id&&e.id>0&&(this.productId=e.id,console.warn("Id",this.productId),this.productId>0&&this.getProductById())}),this.fetchCustomers()}fetchCustomers(){var e=this;return(0,v.Z)(function*(){e.customers=yield e.dbservice.GetCustomer()})()}getProductById(){var e=this;return(0,v.Z)(function*(){e.product=yield e.dbservice.GetProductById(e.productId),console.log(e.product)})()}onSetCustomPrice(){this.productDialog=!0}hideDialog(){this.productDialog=!1,this.productForm.reset()}onEffectiveTypeChange(){const e=this.productForm.get("effectiveType").value;console.warn(e),this.isEffTypeLimited=2==e}static#t=this.\u0275fac=function(_){return new(_||o)(t.Y36(f.A),t.Y36(g.F0),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:20,vars:14,consts:[[1,"container"],["header","Product Details"],[3,"header","subheader"],["pTemplate","header"],["pTemplate","footer"],["header","Price Details",1,"p-fluid",3,"visible","modal","formGroup","visibleChange"],["pTemplate","content"],["alt","Card",3,"src"],[1,"flex","gap-3","mt-1"],["label","Set Custom Price","styleClass","w-full",1,"w-full",3,"click"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12"],["htmlFor","Price",1,"block","text-900","text-xl","font-medium","mb-2"],[1,"p-input-icon-left"],[1,"pi","pi-dollar"],["pInputText","","id","price","type","number","formControlName","price","placeholder","price","numberonly",""],["class","p-error x-2",4,"ngIf"],["htmlFor","effectiveType",1,"block","text-900","text-xl","font-medium","mb-2"],[1,"pi","pi-map"],["optionLabel","name","optionValue","id","formControlName","effectiveType","placeholder","Effective Type",3,"options","onChange"],["class","field col-12",4,"ngIf"],["htmlFor","appliesTo",1,"block","text-900","text-xl","font-medium","mb-2"],[1,"pi","pi-users"],["formControlName","appliesTo","optionLabel","name","placeholder","Select Customers",3,"options"],[1,"p-error","x-2"],[4,"ngIf"],["htmlFor","startDate",1,"block","text-900","text-xl","font-medium","mb-2"],[1,"pi","pi-calendar"],["pInputText","","id","startDate","type","date","formControlName","startDate","placeholder","Start Date"],["htmlFor","endDate",1,"block","text-900","text-xl","font-medium","mb-2"],["pInputText","","id","endDate","type","date","formControlName","endDate","placeholder","End Date"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check","type","Submit",1,"p-button-text",3,"click"]],template:function(_,d){1&_&&(t.TgZ(0,"div",0)(1,"p-card",1)(2,"p-card",2),t.YNc(3,y,1,4,"ng-template",3),t.TgZ(4,"h5")(5,"strong"),t._uU(6,"Description:"),t.qZA(),t._uU(7),t.qZA(),t.TgZ(8,"h5")(9,"strong"),t._uU(10,"Price:"),t.qZA(),t._uU(11),t.qZA(),t.TgZ(12,"h5")(13,"strong"),t._uU(14,"Quantity:"),t.qZA(),t._uU(15),t.qZA(),t.YNc(16,A,2,0,"ng-template",4),t.qZA()(),t.TgZ(17,"p-dialog",5),t.NdJ("visibleChange",function(G){return d.productDialog=G}),t.YNc(18,L,24,7,"ng-template",6)(19,O,2,0,"ng-template",4),t.qZA()()),2&_&&(t.xp6(2),t.Akn(t.DdM(12,h)),t.s9C("header",d.product.name),t.s9C("subheader",d.product.category),t.xp6(5),t.hij(" ",d.product.description," "),t.xp6(4),t.hij(" ",d.product.price," "),t.xp6(4),t.hij(" ",d.product.quantity," "),t.xp6(2),t.Akn(t.DdM(13,q)),t.Q6J("visible",d.productDialog)("modal",!0)("formGroup",d.productForm))},dependencies:[n.O5,a.Z,s.jx,i.NU,c.o,p.Hq,p.zx,u.V,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,x.Lt],encapsulation:2})}return o})();const J=[{path:"",component:Z},{path:":id",component:Z}];let B=(()=>{class o{static#t=this.\u0275fac=function(_){return new(_||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(J),g.Bz]})}return o})();var z=r(5167),Y=r(6218),j=r(6022);let K=(()=>{class o{static#t=this.\u0275fac=function(_){return new(_||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[n.ez,a.d,z.L$,Y.A,i.q4,c.j,j.Xt,p.hJ,u.S,l.UX,x.kW,B]})}return o})()},2434:(T,C,r)=>{r.d(C,{A:()=>l});var n=r(5861),g=r(9467),v=r(9862);let l=(()=>{class t{constructor(a){this.http=a}GetCustomer(){function i(){return(i=(0,n.Z)(function*(c){const u=yield(yield fetch(c,{credentials:"include"})).json();return console.log(u),u})).apply(this,arguments)}return function s(c){return i.apply(this,arguments)}("https://3000-idx-invoicx-1722047333548.cluster-fu5knmr55rd44vy7k7pxk74ams.cloudworkstations.dev/Customer")}GetCustomerById(a){function c(){return(c=(0,n.Z)(function*(p){var h=(yield(yield fetch(p,{credentials:"include"})).json()).find(y=>y.id==a);return console.log(h),h})).apply(this,arguments)}return function i(p){return c.apply(this,arguments)}("https://3000-idx-invoicx-1722047333548.cluster-fu5knmr55rd44vy7k7pxk74ams.cloudworkstations.dev/Customer")}GetProductById(a){function c(){return(c=(0,n.Z)(function*(p){var h=(yield(yield fetch(p,{credentials:"include"})).json()).find(y=>y.id==a);return console.log(h),h})).apply(this,arguments)}return function i(p){return c.apply(this,arguments)}("https://3000-idx-invoicx-1722047333548.cluster-fu5knmr55rd44vy7k7pxk74ams.cloudworkstations.dev/products")}GetCityStates(){function i(){return(i=(0,n.Z)(function*(c){const u=yield(yield fetch(c,{credentials:"include"})).json();return console.log(u),u})).apply(this,arguments)}return function s(c){return i.apply(this,arguments)}("https://3000-idx-manimarketsoftwarae-1722502139104.cluster-fu5knmr55rd44vy7k7pxk74ams.cloudworkstations.dev/CityState")}GetStates(){function i(){return(i=(0,n.Z)(function*(c){const u=yield(yield fetch(c,{credentials:"include"})).json();return console.log(u),u})).apply(this,arguments)}return function s(c){return i.apply(this,arguments)}("https://3000-idx-manimarketsoftwarae-1722502139104.cluster-fu5knmr55rd44vy7k7pxk74ams.cloudworkstations.dev/States")}GetCountries(){function i(){return(i=(0,n.Z)(function*(c){const u=yield(yield fetch(c,{credentials:"include"})).json();return console.log(u),u})).apply(this,arguments)}return function s(c){return i.apply(this,arguments)}("https://3000-idx-manimarketsoftwarae-1722502139104.cluster-fu5knmr55rd44vy7k7pxk74ams.cloudworkstations.dev/Country")}PostCustomer(a){function c(){return(c=(0,n.Z)(function*(p,u){const h=yield(yield fetch(p,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"},mode:"cors",body:JSON.stringify(u),credentials:"include"})).json();return console.log(h),h})).apply(this,arguments)}return function i(p,u){return c.apply(this,arguments)}("https://3000-idx-manimarketsoftwarae-1722502139104.cluster-fu5knmr55rd44vy7k7pxk74ams.cloudworkstations.dev/Customer",a)}static#t=this.\u0275fac=function(s){return new(s||t)(g.LFG(v.eN))};static#e=this.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},2591:(T,C,r)=>{r.d(C,{n:()=>v});var n=r(9467),g=r(4713);let v=(()=>{class l extends g.s{static \u0275fac=(()=>{let f;return function(s){return(f||(f=n.n5z(l)))(s||l)}})();static \u0275cmp=n.Xpm({type:l,selectors:[["CheckIcon"]],standalone:!0,features:[n.qOj,n.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(a,s){1&a&&(n.O4$(),n.TgZ(0,"svg",0),n._UZ(1,"path",1),n.qZA()),2&a&&(n.Tol(s.getClassNames()),n.uIk("aria-label",s.ariaLabel)("aria-hidden",s.ariaHidden)("role",s.role))},encapsulation:2})}return l})()},6218:(T,C,r)=>{r.d(C,{A:()=>t,g:()=>l});var n=r(9467),g=r(6814),v=r(95);let l=(()=>{class f{el;ngModel;control;cd;autoResize;onResize=new n.vpe;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(s,i,c,p){this.el=s,this.ngModel=i,this.control=c,this.cd=p}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewChecked(){this.updateState()}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(s){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(s){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(s||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||f)(n.Y36(n.SBq),n.Y36(v.On,8),n.Y36(v.a5,8),n.Y36(n.sBO))};static \u0275dir=n.lG2({type:f,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(i,c){1&i&&n.NdJ("input",function(u){return c.onInput(u)}),2&i&&n.ekj("p-filled",c.filled)("p-inputtextarea-resizable",c.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return f})(),t=(()=>{class f{static \u0275fac=function(i){return new(i||f)};static \u0275mod=n.oAB({type:f});static \u0275inj=n.cJS({imports:[g.ez]})}return f})()}}]);